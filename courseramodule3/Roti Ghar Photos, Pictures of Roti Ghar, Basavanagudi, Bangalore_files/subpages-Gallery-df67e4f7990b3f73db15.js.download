(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[180],{DwXr:function(e,t,n){"use strict";n.r(t);var a=n("/MKj"),r=n("7EGn"),o=n("UrwC"),i=n("VkAN"),c=n.n(i),u=n("J4zp"),s=n.n(u),l=n("q1tI"),d=n.n(l),f=n("17x9"),m=n.n(f),b=n("ifKl"),p=n("XhtD"),g=n("vOnD"),O=n("gAKm"),h=n.n(O),j=n("kdDk"),T=n.n(j),E=n("eLLh"),P=n.n(E),v=n("BAyj"),w=n.n(v),I=n("n9ui"),L=n("3mfC"),x=n("PFhd"),C=n("o0o1"),_=n.n(C),D=n("yXPU"),y=n.n(D),S=n("fujP"),M=n("LOOW"),U=n("fNgF"),k=function(){var e=y()(_.a.mark((function e(t){var n,a,o,i,c,u,s,l,d,f,m,p;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,a=t.category,o=void 0===a?"":a,i=t.resId,c=void 0===i?0:i,u=t.showErrorToast,s=void 0===u?b.default:u,l=t.switchTab,d=void 0===l?b.default:l,e.next=4,Object(M.b)(U.A,{method:"GET",params:{category:o,res_id:c},headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(){n=!0}));case 4:return f=e.sent,Object(S.default)(f)||n?s():(m=Object(r.default)(f,"page_data.sections.SECTION_GALLERY_PHOTOS",{}),p=Object(r.default)(f,"entities",{}),d(p,m,c)),e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=y()(_.a.mark((function e(t){var n,a,o,i,c,u,s,l,d,f,m,p,g,O,h,j,T,E;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,a=t.category,o=void 0===a?"":a,i=t.resId,c=void 0===i?0:i,u=t.page,s=void 0===u?0:u,l=t.showErrorToast,d=void 0===l?b.default:l,f=t.loadMorePhotosDispatch,m=void 0===f?b.default:f,p=t.isMobile,g=void 0!==p&&p,e.next=4,Object(M.b)(U.lb,{method:"GET",params:{category:o,res_id:c,page:s,limit:g?15:32},headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(){n=!0}));case 4:return O=e.sent,Object(S.default)(O)||n?d():(h=Object(r.default)(O,"page_data.sections.SECTION_GALLERY_PHOTOS.pageImagesText",""),j=Object(r.default)(O,"page_data.sections.SECTION_GALLERY_PHOTOS.entities",[]),T=parseInt(Object(r.default)(O,"page_data.sections.SECTION_GALLERY_PHOTOS.currentPage",1),10),E=Object(r.default)(O,"entities",{}),m(E,h,T,j,c)),e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=n("SEq1"),H=n("vP20"),q=n("4jOa"),G=n("iz9p");function N(){var e=c()(["\n  @media (max-width: 480px) {\n    display: flex;\n    overflow-x: auto;\n    width: calc(100% + 2rem);\n    margin-left: -1rem;\n    ::-webkit-scrollbar {\n      display: none;\n    }\n  }\n"]);return N=function(){return e},e}function F(){var e=c()(["\n  @media (max-width: 480px) {\n    width: max-content;\n    margin: 0 1rem;\n    white-space: nowrap;\n  }\n"]);return F=function(){return e},e}function J(){var e=c()(["\n  margin-right: 1.5rem;\n  @media (max-width: 480px) {\n    margin-right: 1rem;\n  }\n"]);return J=function(){return e},e}function K(){var e=c()(["\n  @media (max-width: 480px) {\n    font-size: 2rem;\n    margin-bottom: 1.5rem;\n  }\n  margin-bottom: 2.5rem;\n  font-weight: 500;\n"]);return K=function(){return e},e}function z(){var e=c()(["\n  margin-top: 3.5rem;\n  @media (max-width: 480px) {\n    margin-top: 1.5rem;\n  }\n"]);return z=function(){return e},e}function Y(){var e=c()(["\n  border-radius: 0.6rem;\n"]);return Y=function(){return e},e}function B(){var e=c()(["\n  border-radius: 0.6rem;\n\n  @media (max-width: 768px) {\n    width: ",";\n    height: ",";\n  }\n\n  cursor: pointer;\n"]);return B=function(){return e},e}function X(){var e=c()(["\n  padding: ",";\n  @media (max-width: 768px) and (min-width: 481px) {\n    padding: 0 1.2rem;\n  }\n"]);return X=function(){return e},e}var V=function(e){var t=e.resId,n=e.galleryPhotos,a=e.tabsData,o=e.paginationData,i=e.switchTab,c=e.loadMorePhotosDispatch,u=e.isLoggedIn,f=e.openLoginForm,m=e.loggedInUserProfilePic,b=e.photoComments,g=e.pageUrl,O=e.showErrorToast,h=e.isMobile,j=e.photosTitle,T=e.scrollToHeader,E=Object(l.useState)(o),v=s()(E,2),w=v[0],I=v[1],C=Object(l.useState)(n),_=s()(C,2),D=_[0],y=_[1],S=Object(l.useState)(!1),M=s()(S,2),U=M[0],N=M[1],F=Object(l.useState)(0),J=s()(F,2),K=J[0],z=J[1],Y=Object(l.useState)(!1),B=s()(Y,2),X=B[0],V=B[1],re=Object(l.useState)(-1),oe=s()(re,2),ie=oe[0],ce=oe[1],ue=Object(l.useState)(Object(r.default)(o,"selectedTab","all")),se=s()(ue,2),le=se[0],de=se[1],fe=Object(l.useState)(Object(r.default)(o,"currentPage",0)),me=s()(fe,2),be=me[0],pe=me[1],ge=Object(r.default)(w,"pageImagesText",0),Oe=Object(r.default)(w,"numberOfPages",0),he="category=".concat(le);Object(l.useEffect)((function(){y(n)}),[n]),Object(l.useEffect)((function(){I(o),de(Object(r.default)(o,"selectedTab","all")),pe(Object(r.default)(o,"currentPage",0))}),[o]);var je=function(e){return e===le},Te=function(e){return je(e)?"red":""},Ee=function(e){return je(e)?"":"outline"},Pe=function(e){return function(){z(e),N(!0)}},ve=function(e){return function(){!function(e){e.toLowerCase()!==le&&(V(!0),de(e),pe(1),k({category:e.toLowerCase(),resId:t,showErrorToast:O,switchTab:i}).then((function(){V(!1)})))}(e)}},we=[],Ie=!!D.length&&d.a.createElement(P.a,{gap:h?10:12},D.map((function(e,t){var n=Object(r.default)(e,"photoId","");return we.push({src:Object(r.default)(e,"url",""),title:Object(r.default)(e,"uploaderName",""),likes:Object(r.default)(e,"likeCount",0),comments:Object(r.default)(e,"commentCount",0),profile:Object(r.default)(e,"uploaderProfilePic",""),profileUrl:Object(r.default)(e,"uploaderProfileUrl",""),subtitle:Object(r.default)(e,"timestamp",""),photoId:n,liked:!!Object(r.default)(e,"isLiked",0),commentData:b[n]}),d.a.createElement(P.a.Item,{colD:h?4:2.4},d.a.createElement(Q,{isMobile:h,onClick:Pe(t),src:Object(r.default)(e,"thumbUrl",[]),height:"20rem",alt:"Gallery Image"}))}))),Le=d.a.createElement(P.a,{gap:h?10:20},Object(p.default)(12).map((function(){return d.a.createElement(P.a.Item,{colD:h?4:2.4},d.a.createElement(Z,{height:h?"12rem":"20rem"}))})));return d.a.createElement(d.a.Fragment,null,d.a.createElement(W,{isMobile:h},d.a.createElement(G.a,null),ie>-1&&d.a.createElement(x.a,{onClose:function(){ce(-1)},comments:Object(r.default)(we,"".concat(ie,".commentData"),[]),photoId:Object(r.default)(we,"".concat(ie,".photoId"),""),isLoggedIn:u,openLoginForm:f,currentUserPic:m}),d.a.createElement(ee,null,j),d.a.createElement(H.a,{placements:[q.n]}),d.a.createElement(ae,null,d.a.createElement(ne,null,Object.keys(a).map((function(e){return d.a.createElement(te,{size:"compressed",appearance:Ee(e),btnColor:Te(e),onClick:ve(e)},a[e])})))),d.a.createElement($,null,X?Le:Ie),!!Oe&&d.a.createElement(L.a,{numberOfPages:Oe,currentPage:be,handlePageClick:function(e){T(),e!==be&&(V(!0),pe(e),A({category:le.toLowerCase(),resId:t,page:e,showErrorToast:O,loadMorePhotosDispatch:c,isMobile:h}).then((function(){V(!1)})))},paginationText:ge,pageUrl:g,paramsStr:he,isMobile:h}),d.a.createElement(R.a,{pvProps:{isOpen:U,handleClose:function(){N(!1)},data:we,currentIndex:K,onCommentClick:function(e,t){ce(t)}},currentUserPic:m})))},W=g.default.div(X(),(function(e){return e.isMobile?"1rem":0})),Q=Object(g.default)(I.a)(B(),(function(e){return e.isMobile?"12rem":"13rem"}),(function(e){return e.isMobile?"12rem":"13rem"})),Z=Object(g.default)(w.a)(Y()),$=g.default.div(z()),ee=Object(g.default)(h.a)(K()),te=Object(g.default)(T.a)(J()),ne=g.default.div(F()),ae=g.default.div(N());V.propTypes={resId:m.a.number.isRequired,galleryPhotos:m.a.arrayOf(m.a.object).isRequired,tabsData:m.a.arrayOf(m.a.string),paginationData:m.a.shape({numberOfPages:m.a.number,pageImagesText:m.a.string}).isRequired,switchTab:m.a.func.isRequired,loadMorePhotosDispatch:m.a.func.isRequired,isLoggedIn:m.a.bool,openLoginForm:m.a.func,loggedInUserProfilePic:m.a.string,photoComments:m.a.arrayOf(m.a.object),pageUrl:m.a.string.isRequired,showErrorToast:m.a.func.isRequired,isMobile:m.a.bool,photosTitle:m.a.string,scrollToHeader:m.a.func},V.defaultProps={tabsData:[],isLoggedIn:!1,openLoginForm:b.default,loggedInUserProfilePic:"",photoComments:[],isMobile:!1,photosTitle:"",scrollToHeader:b.default};var re=V,oe=n("T3P7"),ie=n("vCUO"),ce=n("ful+"),ue=n("E8V7"),se=Object(a.c)((function(e){var t=Object(ce.a)(e,ie.f,ie.J),n=Object(r.default)(e,"pages.current.resId",0),a=Object(r.default)(e,"pages.restaurant.".concat(n,".sections"),{});return{resId:n,pageUrl:Object(r.default)(e,"pages.current.pageUrl",""),galleryPhotos:t,photoComments:Object(ce.b)(e,t,ie.g,"comments","photoId",ie.f),tabsData:Object(r.default)(a,"".concat(ie.J,".tabsCount"),[]),paginationData:{pageImagesText:Object(r.default)(a,"".concat(ie.J,".pageImagesText"),""),numberOfPages:Object(r.default)(a,"".concat(ie.J,".numberOfPages"),0),currentPage:Object(r.default)(a,"".concat(ie.J,".currentPage"),0),selectedTab:Object(r.default)(a,"".concat(ie.J,".selectedTab"),"all")},isLoggedIn:Object(o.j)(e),loggedInUserProfilePic:Object(r.default)(e,"user.basic_info.profile_picture",""),isMobile:!!Object(r.default)(e,"pages.current.isMobile",!1),photosTitle:Object(r.default)(e,"langKeys.PHOTOS_TITLE","")}}),(function(e){return{switchTab:function(t,n,a){e(Object(oe.J)(t,n,a))},loadMorePhotosDispatch:function(t,n,a,r,o){e(Object(oe.G)(t,n,a,r,o))},openLoginForm:function(){return e(Object(ue.i)())},showErrorToast:function(t){return e(Object(ue.g)(t))}}}))(re);t.default=se}}]);
//# sourceMappingURL=subpages-Gallery-df67e4f7990b3f73db15.js.map